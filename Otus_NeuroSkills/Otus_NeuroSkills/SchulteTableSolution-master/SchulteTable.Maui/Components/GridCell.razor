@using Microsoft.AspNetCore.Components.Web

<div class="grid-cell @CssClass" 
     @onclick="OnClick" 
     @onkeydown="OnKeyDown"
     tabindex="0"
     role="button"
     aria-label="Ячейка с числом @Value">
    <span class="cell-number">@Value</span>
</div>

@code {
    [Parameter] public int Value { get; set; }
    [Parameter] public string CssClass { get; set; } = "";
    [Parameter] public EventCallback<int> OnCellClicked { get; set; }
    [Parameter] public bool IsEnabled { get; set; } = true;

    private async Task OnClick()
    {
        if (IsEnabled)
        {
            await OnCellClicked.InvokeAsync(Value);
        }
    }

    private async Task OnKeyDown(KeyboardEventArgs e)
    {
        if (IsEnabled && (e.Key == "Enter" || e.Key == " "))
        {
            await OnCellClicked.InvokeAsync(Value);
        }
    }
}
