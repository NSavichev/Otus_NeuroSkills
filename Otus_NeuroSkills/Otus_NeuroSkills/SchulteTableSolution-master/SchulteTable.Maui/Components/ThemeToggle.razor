@using Microsoft.AspNetCore.Components.Web
@inject IThemeService ThemeService

<div class="theme-toggle">
    <button class="btn btn-secondary" @onclick="ToggleTheme" title="ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞ¼Ñƒ">
        @if (ThemeService.CurrentTheme == ThemeMode.Dark)
        {
            <span>â˜€ï¸</span>
        }
        else if (ThemeService.CurrentTheme == ThemeMode.Light)
        {
            <span>ğŸŒ™</span>
        }
        else
        {
            <span>ğŸ”„</span>
        }
    </button>
</div>

@code {
    private async Task ToggleTheme()
    {
        var newTheme = ThemeService.CurrentTheme switch
        {
            ThemeMode.Auto => ThemeMode.Light,
            ThemeMode.Light => ThemeMode.Dark,
            ThemeMode.Dark => ThemeMode.Auto,
            _ => ThemeMode.Auto
        };

        await ThemeService.SetThemeAsync(newTheme);
    }
}
